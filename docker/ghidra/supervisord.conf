[supervisord]
nodaemon=true

[program:xvfb]
command=/usr/bin/Xvfb :0 -screen 0 1280x800x24
autorestart=true
priority=1

[program:openbox]
command=/usr/bin/openbox
environment=DISPLAY=":0"
autorestart=true
priority=10

[program:x11vnc]
command=/usr/bin/x11vnc -display :0 -forever -shared -passwd ghidra -listen 0.0.0.0 -xkb
autorestart=true
priority=20

[program:websockify]
command=/usr/bin/websockify --web=/usr/share/novnc 0.0.0.0:6080 127.0.0.1:5900
autorestart=true
priority=25

[program:ghidra]
command=/bin/bash -c "sleep 5 && /ghidra/ghidraRun; echo 'Ghidra exited with code $?'; tail -f /dev/null"
environment=DISPLAY=":0"
autorestart=false
priority=30
